<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>My Profile</title>
    </h:head>
    <h:body>
        <ui:composition template="../Admin/adminLayout.xhtml">


            <ui:define name="breadcum">
                <h2>Profile</h2>
                <ol class="breadcrumb">
                    <li class="active"><strong>Profile</strong></li>
                </ol>
            </ui:define>


            <ui:define name="content">
                <div class="wrapper wrapper-content">
                    <div class="panel panel-default col-lg-12 animated fadeInRightBig">
                        <article class="account-content">

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="account-profile-top">
                                        <div><h:graphicImage name="#{adminAccountsController.currentAdmin.avatar}" alt="#{adminAccountsController.currentAdmin.avatar}" width="80" height="80" id="avatar"/></div>
                                        <div>
                                            <h3>#{adminAccountsController.currentAdmin.fullName}
                                                <small>#{adminAccountsController.currentAdmin.email}</small>
                                                <small>#{adminAccountsController.currentAdmin.adminRole}</small>
                                            </h3>
                                        </div>
                                        <div class="button">                            
                                            <a href="" class="btn btn-primary" id="changeAvatar">Change Avatar</a><br/>
                                            <h:message for="chooseAvatarFile" class="alert-danger"/>                                                  
                                        </div>
                                    </div>


                                    <h:form class="form-horizontal" enctype="multipart/form-data" id="profileForm">
                                        <h:inputFile id="chooseAvatarFile" value="#{adminAccountsController.avatar}" style="opacity: 0; position: absolute; top: 0; left: 0; width: 0; height: 0;">
                                            <f:validator validatorId="changeAvatarValidator"/>
                                        </h:inputFile>
                                        <div class="form-group">
                                            <label class="col-md-4 col-lg-3 control-label">Full Name<span class="required">*</span></label>
                                            <div class="col-md-8 col-lg-6">
                                                <h:inputText value="#{adminAccountsController.currentAdmin.fullName}" class="form-control" required="true" requiredMessage="Please enter Full Name" id="fullName"/>
                                            </div>
                                        </div>
                                        
                                        <h:message for="fullName" class="alert-danger"/>

                                        <div class="form-group">
                                            <div class="col-md-offset-4 col-md-8 col-lg-offset-3 col-lg-9">
                                                <h:commandButton value="Update" action="#{adminAccountsController.updateProfile()}" class="btn btn-primary" />
                                            </div>
                                        </div>
                                    </h:form>
                                </div>
                                
                                <div class="col-md-6 well">
                                    <h:form class="form-horizontal" id="changePasswordForm">
                                        <div class="form-group">
                                            <label class="col-md-4 col-lg-4 control-label">Old Password<span class="required">*</span></label>
                                            <div class="col-md-8 col-lg-6">
                                                <h:inputSecret value="#{adminAccountsController.oldPass}" class="form-control" required="true" redisplay="true"  requiredMessage="Please enter Old Password"/>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 col-lg-4 control-label">New Password<span class="required">*</span></label>
                                            <div class="col-md-8 col-lg-6">
                                                <h:inputSecret value="#{adminAccountsController.newPass}" class="form-control" required="true" redisplay="true"  requiredMessage="Please enter New Password"/>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 col-lg-4 control-label">Confirm New Password<span class="required">*</span></label>
                                            <div class="col-md-8 col-lg-6">
                                                <h:inputSecret value="#{adminAccountsController.confirmPass}" class="form-control" required="true" redisplay="true"  requiredMessage="Please enter Confirm Password"/>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 col-lg-3 control-label"></label>
                                            <div class="col-md-8 col-lg-6"><h:messages for="changePasswordForm" class="alert-danger"/></div>
                                        </div>                        
                                        <div class="form-group">
                                            <div class="col-md-offset-4 col-md-8 col-lg-offset-3 col-lg-9">
                                                <h:commandButton value="Change Password" action="#{adminAccountsController.changePassword()}" class="btn btn-primary" />
                                            </div>
                                        </div>                        
                                    </h:form>
                                </div>
                            </div>


                        </article>                            
                    </div>
                </div>
            </ui:define>


        </ui:composition>
    </h:body>
</html>

